// comments in function parameters and arrays

// Parser tests for comments in function parameters and arrays (#327)
func foo(a, b, c) {a+b+c}

Assert("	foo(1, 2, 3)", foo(1, 2, 3) == 6)

Assert("foo(1, /* comment */ 2, 3)", foo(1, /* comment */ 2, 3) == 6)

Assert("foo(1, // first\n	2, // second\n	3)", foo(1,
	 // first
	2, // second
	// another one
	3 // last one
	) == 6)

del(xy) // make sure xy is not defined
x=1
y=2
// should not parse to xy #325
x y

println("y is", y)

// small array
a=[3,-7,4,-42]
Assert("sorting an array", sort(a) == [-42,-7,3,4])
// un modified array
Assert("un modified array", a == [3,-7,4,-42])

// big array
a=1:21
s=shuffle(a)
// also checks we didn't modify the original array
Assert("shuffling an array", s != a)
Assert("sorting shuffled array", sort(s) == a)
// check sort didn't modify the s big array
Assert("shuffling an array", s != a)
